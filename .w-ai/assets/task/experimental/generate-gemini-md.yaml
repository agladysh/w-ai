name: generate-gemini-md
description: generate the GEMINI.md file
input: null
output: __infer__
process:
  - ai/task: # Specific model due to size
      - ai/input/query: Generate new GEMINI.md file
      - ai/input/content-of-files:
          root: !do git/absolute-path-to-working-copy-root
          pattern: '**/*'
      - ai/action/overwrite-file: ./GEMINI.md
# contract:
#   # TODO: Move this inside ai/task
#   - git/working-copy/file-exists: { $.const.filename }
#   - git/working-copy/file-has-changes: { $.const.filename }
#   - project/lint-passes-for-file: { $.const.filename }
#   - document/diff-review-passes
#   - document/full-review-passes
# # TODO: Contract failures should be looped into corrections somehow
